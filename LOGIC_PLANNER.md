# **4일 단기 몰입 프로젝트 개발 계획**

## **프로젝트 목표**

4일간 2명이서 핵심 기능만 구현하여 **동작하는 프로토타입** 완성

- 완벽함보다는 **동작하는 데모** 우선
- 복잡한 기능은 제외하거나 간소화
- 배포는 로컬 또는 간단한 클라우드 서비스
- --

## **역할 분담 제안**

### **개발자 A (백엔드 중심)**

- Django API 개발
- 데이터베이스 설계 및 구축
- 매칭 알고리즘 구현
- NaverLogin 백엔드 연동

### **개발자 B (프론트엔드 중심)**

- React Native 앱 개발
- UI/UX 구현
- NaverLogin 프론트엔드 연동
- 위치 추적 기능
- --

## **Day 1: 프로젝트 설정 + 인증 + 프로필 (8-10시간)**

### **오전 (4-5시간)**

**목표**: 프로젝트 초기 설정 및 데이터베이스 구축

### **개발자 A (백엔드)**

- [ ]  Django 프로젝트 초기화
- [ ]  PostgreSQL 설치 및 연결 (PostGIS는 나중에, 우선 일반 필드로)
- [ ]  기본 Models 설계 및 생성
- User (naver_id, name, age, gender, height, mbti, personality, interests, matching_consent, service_active, consent_updated_at)
- IdealTypeProfile (height_min, height_max, age_min, age_max, preferred_personality, preferred_interests, match_threshold)
- UserLocation (latitude, longitude, updated_at)
- Match (user1, user2, matched_at, distance, matched_criteria)
- Notification (user, match, created_at, is_read)
- [ ]  Django Admin 설정 (개발 편의용)
- [ ]  마이그레이션 실행

### **개발자 B (프론트엔드)**

- [ ]  React Native 프로젝트 초기화
- [ ]  기본 네비게이션 설정 (React Navigation)
- [ ]  API 클라이언트 설정 (Axios)
- [ ]  환경 변수 설정 (.env)

### **오후 (4-5시간)**

**목표**: NaverLogin 연동 및 프로필 API

### **개발자 A (백엔드)**

- [ ]  네이버 개발자 센터 앱 등록 (사전 준비 필요)
- [ ]  네이버 OAuth 처리 API
- Access Token 검증
- 사용자 정보 조회
- JWT 토큰 발급
- [ ]  사용자 프로필 API
- `GET /api/users/profile/` (조회)
- `POST /api/users/profile/` (생성/수정)
- [ ]  이상형 프로필 API
- `GET /api/users/ideal-type/` (조회)
- `POST /api/users/ideal-type/` (생성/수정)
- [ ]  API 테스트 (Postman 또는 curl)

### **개발자 B (프론트엔드)**

- [ ]  네이버 로그인 SDK 설치 및 연동
- [ ]  로그인 화면 UI 구현
- [ ]  로그인 플로우 구현
- [ ]  토큰 저장 및 관리 (AsyncStorage)
- [ ]  프로필 입력 화면 UI (기본 구조만)
- --

## **Day 2: 위치 추적 + 매칭 알고리즘 (8-10시간)**

### **오전 (4-5시간)**

**목표**: 위치 추적 API 및 매칭 알고리즘

### **개발자 A (백엔드)**

- [ ]  위치 업데이트 API (`POST /api/users/location/`)
- [ ]  거리 계산 함수 구현 (하버사인 공식)
- PostGIS 없이 Python으로 직접 계산
- [ ]  반경 내 사용자 조회 함수
- 모든 사용자 조회 후 거리 계산으로 필터링 (간단한 방법)
- [ ]  매칭 알고리즘 구현
- 부합도 계산 (키, 나이, 성격, 관심사) - **얼굴상 제외, 4개 조건으로 계산**
- 양방향 매칭 확인
- **동의한 사용자만 필터링** (matching_consent=True, service_active=True)
- 매칭 임계값 3개 이상 일치 확인
- [ ]  매칭 결과 API (`GET /api/matches/`)
- [ ]  동의 관리 API (`POST /api/users/consent/`)

### **개발자 B (프론트엔드)**

- [ ]  위치 권한 요청 로직
- [ ]  위치 추적 기능 구현
- `@react-native-community/geolocation` 사용
- 포그라운드에서만 동작 (30초 주기)
- [ ]  위치 정보 서버 전송
- [ ]  프로필 입력 화면 완성
- 기본 정보 입력
- MBTI 선택
- 성격 다중 선택
- 관심사 다중 선택
- [ ]  이상형 프로필 입력 화면 완성

### **오후 (4-5시간)**

**목표**: 매칭 시스템 통합 및 기본 UI

### **개발자 A (백엔드)**

- [ ]  매칭 알고리즘 테스트 및 디버깅
- [ ]  **프로필 완성도 검증 로직** (프로필 및 이상형 프로필 필수 필드 체크)
- [ ]  **이상형 프로필 4개 조건 입력 검증** (키, 나이, 성격, 관심사)
- [ ]  API 엔드포인트 정리 및 문서화
- [ ]  CORS 설정 (프론트엔드 연동용)
- [ ]  기본 에러 처리

### **개발자 B (프론트엔드)**

- [ ]  메인 화면 UI 구현
- 서비스 활성화/비활성화 토글
- 현재 위치 표시
- [ ]  프로필 화면 완성
- [ ]  이상형 프로필 화면 완성
- [ ]  API 연동 테스트
- --

## **Day 3: 프론트엔드 완성 + 통합 (8-10시간)**

### **오전 (4-5시간)**

**목표**: 프론트엔드 핵심 화면 완성

### **개발자 A (백엔드)**

- [ ]  매칭 결과 조회 최적화
- [ ]  폴링 방식 매칭 체크 API (`GET /api/matches/check/`)
- 실시간 통신 대신 주기적 조회
- [ ]  알림 이력 API (`GET /api/notifications/`)
- [ ]  백엔드 버그 수정 및 안정화

### **개발자 B (프론트엔드)**

- [ ]  매칭 결과 화면 구현
- [ ]  알림 화면 구현 (인앱 알림만)
- [ ]  **알림에 부합한 조건 정보 표시** (어떤 조건이 일치했는지)
- [ ]  진동 알림 구현 (`react-native-haptic-feedback`)
- [ ]  전체 화면 네비게이션 연결
- [ ]  **초기 설정 플로우 검증** (프로필/이상형 프로필 완성 후에만 서비스 시작 가능)
- [ ]  UI/UX 개선

### **오후 (4-5시간)**

**목표**: 프론트엔드-백엔드 통합

### **개발자 A + B (통합 작업)**

- [ ]  전체 플로우 테스트
1. 네이버 로그인
2. 프로필 입력 (완성도 검증)
3. 이상형 프로필 입력 (4개 조건 검증)
4. 서비스 활성화 (동의 확인)
5. 위치 추적 시작
6. 매칭 확인
7. 알림 표시 (부합한 조건 정보 포함)
- [ ]  버그 수정
- [ ]  에러 처리 개선
- [ ]  **프로필 미완성 상태 처리**
- [ ]  사용자 경험 개선
- --

## **Day 4: 알림 시스템 + 데모 준비 (8-10시간)**

### **오전 (4-5시간)**

**목표**: 알림 시스템 완성

### **개발자 A (백엔드)**

- [ ]  매칭 시 알림 생성 로직
- [ ]  **중복 알림 방지 로직** (같은 사용자에 대해 5분 내 중복 알림 방지)
- [ ]  **알림에 부합한 조건 정보 저장** (matched_criteria 필드)
- [ ]  알림 발송 API
- [ ]  매칭 체크 주기 최적화 (10초마다)

### **개발자 B (프론트엔드)**

- [ ]  폴링 방식 매칭 체크 구현 (10초마다)
- [ ]  매칭 발견 시 진동 + 인앱 알림
- [ ]  알림 목록 화면 완성
- [ ]  알림 상세 화면

### **오후 (4-5시간)**

**목표**: 데모 준비 및 최종 점검

### **개발자 A + B (공동 작업)**

- [ ]  전체 시스템 통합 테스트
- [ ]  **기본 에러 처리 완성**
- 위치 권한 거부 시 안내
- 네트워크 오류 처리
- 위치 정보를 가져올 수 없을 때 처리
- [ ]  데모 시나리오 작성
- [ ]  데모 데이터 준비 (테스트 계정 2-3개)
- [ ]  주요 버그 수정
- [ ]  UI/UX 최종 점검
- [ ]  README 작성
- [ ]  발표 자료 준비
- --

## **간소화된 기술 스택**

### **포함**

- ✅ React Native (프론트엔드)
- ✅ Django (백엔드)
- ✅ PostgreSQL (데이터베이스, PostGIS 제외)
- ✅ NaverLogin (인증)
- ✅ JWT (토큰 인증)
- ✅ 하버사인 공식 (거리 계산)

### **제외/나중에**

- ❌ PostGIS (복잡한 설정, 하버사인 공식으로 대체)
- ❌ Socket.io (폴링 방식으로 대체)
- ❌ AWS SNS 푸시 알림 (인앱 알림만)
- ❌ Redis 캐싱
- ❌ 백그라운드 위치 추적 (포그라운드만)
- ❌ AWS 배포 (로컬 또는 간단한 클라우드)
- --

## **핵심 기능 체크리스트**

### **필수 구현 (Must Have)**

- [x]  네이버 로그인
- [x]  사용자 프로필 입력/수정
- [x]  이상형 프로필 입력/수정
- [x]  위치 추적 (포그라운드)
- [x]  매칭 알고리즘 (양방향)
- [x]  매칭 알림 (인앱 + 진동)
- [x]  서비스 활성화/비활성화

### **선택 구현 (Nice to Have)**

- [ ]  백그라운드 위치 추적
- [ ]  푸시 알림
- [ ]  매칭 이력 조회
- [ ]  프로필 사진
- --

## **일일 마일스톤**

### **Day 1 마일스톤**

✅ 프로젝트 초기 설정 완료

✅ 네이버 로그인 동작 확인

✅ 프로필 API 동작 확인

### **Day 2 마일스톤**

✅ 위치 추적 동작 확인

✅ 매칭 알고리즘 동작 확인

✅ 프론트엔드 기본 화면 완성

### **Day 3 마일스톤**

✅ 전체 플로우 연결 완료

✅ 매칭 시스템 통합 완료

✅ UI/UX 기본 완성

### **Day 4 마일스톤**

✅ 알림 시스템 완성

✅ 데모 준비 완료

✅ 발표 준비 완료

- --

## **위험 요소 및 대응 방안**

### **위험 1: 네이버 로그인 설정 지연**

**대응**: Day 1 오전에 미리 네이버 개발자 센터 앱 등록 완료

### **위험 2: 위치 추적 권한 문제**

**대응**: 시뮬레이터/에뮬레이터에서 테스트, 실제 기기 테스트 시간 확보

**추가 대응**: 위치 권한 거부 시 안내 화면 및 재요청 로직 구현

### **위험 3: 매칭 알고리즘 버그**

**대응**: 간단한 테스트 케이스로 먼저 검증, 복잡한 로직은 간소화

**추가 대응**: 동의 필터링 로직 미구현 시 매칭 오작동 가능 - Day 2 오전에 반드시 구현

### **위험 4: 시간 부족**

**대응**: 핵심 기능만 구현, 부가 기능은 제외

### **위험 5: 프로필 완성도 검증 누락**

**대응**: 프로필 미완성 상태에서 매칭 시도 시 에러 발생 가능 - Day 2 오후에 검증 로직 필수 구현

- --

## **개발 팁**

1. **Git 브랜치 전략**: 각자 feature 브랜치에서 작업, 자주 merge
2. **API 통신**: Postman으로 먼저 테스트 후 프론트엔드 연동
3. **디버깅**: console.log 적극 활용, React Native Debugger 사용
4. **데이터**: 초기 테스트용 더미 데이터 미리 준비
5. **커뮤니케이션**: 2-3시간마다 진행 상황 공유
- --

## **최종 목표**

4일 후 완성되어야 할 것:

- ✅ 네이버 로그인으로 로그인 가능
- ✅ 프로필 및 이상형 프로필 입력 가능 (완성도 검증 포함)
- ✅ 동의 기반 매칭 (서비스 활성화/비활성화)
- ✅ 위치 추적 동작
- ✅ 두 사용자가 가까이 있으면 매칭 알림 발생 (부합한 조건 정보 표시)
- ✅ 중복 알림 방지 (5분 내)
- ✅ 기본 에러 처리 (위치 권한, 네트워크 오류)
- ✅ 데모 시연 가능한 상태

## **추가 반영 사항 요약**

### **Day 1 추가**

- ✅ User 모델에 `matching_consent`, `service_active`, `consent_updated_at` 필드 추가
- ✅ IdealTypeProfile 모델에 `match_threshold` 필드 추가
- ✅ Match 모델에 `matched_criteria` 필드 추가 (부합한 조건 정보)
- ✅ Notification 모델 추가

### **Day 2 추가**

- ✅ 매칭 알고리즘에 동의 필터링 로직 추가 (matching_consent=True, service_active=True)
- ✅ 매칭 알고리즘 로직 수정 (얼굴상 제외, 키+나이+성격+관심사 4개 조건)
- ✅ 프로필 완성도 검증 로직
- ✅ 이상형 프로필 4개 조건 입력 검증

### **Day 3 추가**

- ✅ 초기 설정 플로우 검증 (모든 입력 완료 후에만 서비스 시작)
- ✅ 알림에 부합한 조건 정보 포함

### **Day 4 추가**

- ✅ 중복 알림 방지 시간 설정 (5분)
- ✅ 기본 에러 처리 (위치 권한 거부, 네트워크 오류, 위치 정보 미수신)